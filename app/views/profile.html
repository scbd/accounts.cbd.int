<div>

	<h1>My profile.</h1>

	<div ng-show="!document && !error" style="display:inline-block">Loading your profile...
		<div class="spinner">
		  <div class="bounce1"></div>
		  <div class="bounce2"></div>
		  <div class="bounce3"></div>
		</div>
	</div>

	<div class="row">
		<div class="col-xs-12">

			<div class="alert alert-danger" ng-cloak ng-show="error">
				<strong>Error as occured...</strong>
				<div>{{error}}</div>
			</div>

			<div ng-show="document">
				<form name="form" role="form" ng-submit="actionSave()">

					<div class="panel panel-default panel-identity">
						<div class="panel-body">
							<div class="row">
								<div class="col-sm-2 col-xs-4">
									<div class="form-group">
										<label for="title">Salutation</label>
										<input type="text" class="form-control" id="title" ng-model="document.Title">
									</div>
								</div>
								<div class="clearfix visible-xs"></div>
								<div class="col-sm-5 col-xs-12">
									<div class="form-group" ng-class="{ 'has-warning': form.firstName.$invalid }">
										<label for="firstName">First name</label>
										<input type="text" class="form-control" name="firstName" ng-model="document.FirstName" required>
										<p class="help-block error" ng-show="form.firstName.$invalid">This field is mandatory</p>
									</div>
								</div>
								<div class="col-sm-5 col-xs-12">
									<div class="form-group" ng-class="{ 'has-warning': form.lastName.$invalid }">
										<label for="lastName">Last name</label>
										<input type="text" class="form-control" name="lastName" ng-model="document.LastName" required>
										<p class="help-block error" ng-show="form.lastName.$invalid">This field is mandatory</p>
									</div>
								</div>
							</div>

							<div class="form-group">
								<label for="designation">Job title</label>
								<input type="text" class="form-control" id="designation" ng-model="document.Designation">
							</div>

							<div class="form-group">
								<label for="department">Department</label>
								<input type="text" class="form-control" id="department" ng-model="document.Department">
							</div>
							<div class="form-group" ng-class="{ 'has-warning': form.organization.$invalid }">
								<label for="organization">Organization</label>
								<input type="text" class="form-control" name="organization" ng-model="document.Organization" required>
								<p class="help-block error" ng-show="form.organization.$invalid">This field is mandatory</p>
							</div>
							<!-- <div class="row">
								<div class="col-sm-2 col-xs-6">
									<div class="form-group">
										<label for="gender">Gender</label>
										<select class="form-control" id="gender" ng-model="document.Gender">
											<option></option>
											<option>Female</option>
											<option>Male</option>
											<option>Other</option>
										</select>
									</div>
								</div>
							</div> -->
						</div>
					</div>

					<div class="panel panel-default panel-address">
						<div class="panel-body">
							<div class="row">
								<div class="col-sm-6">
									<div class="form-group">
										<label for="address">Address</label>
										<textarea rows="3" class="form-control" id="address" ng-model="document.Address"></textarea>
									</div>
								</div>
								<div class="col-sm-6">
									<div class="form-group">
										<label for="city">City</label>
										<input type="text" class="form-control" id="city" ng-model="document.City">
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-6">
									<div class="form-group">
										<label for="state">State / Province / Region</label>
										<input type="text" class="form-control" id="state" ng-model="document.State">
									</div>
								</div>
								<div class="col-sm-3">
									<div class="form-group">
										<label for="zip">Postal / Zip code</label>
										<input type="text" class="form-control" id="zip" ng-model="document.Zip">
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-6">
									<div class="form-group">
										<label>Country</label>
										<div><select name="Country" class="form-control" ng-model="document.Country" ng-options="c.identifier as c.name for c in countries"></select></div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="panel panel-default panel-coordinates">
						<div class="panel-body">
							<div class="help-block">Please use the following format: +[country code] [city code] [telephone number] [extension, if necessary].</div>
							<div class="row">
								<div class="col-sm-6 col-xs-12">
									<div class="form-group">
										<label>Phone numbers</label>
										<forms-input-list ng-model="phones"></forms-input-list>
									</div>
								</div>
								<div class="col-sm-6 col-xs-12">
									<div class="form-group">
										<label>Fax numbers</label>
										<forms-input-list ng-model="faxes"></forms-input-list>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-6 col-xs-12">
									<div class="form-group" ng-class="{ 'has-warning': form.email.$invalid }">
										<label>Email</label>
										<div class="input-group" style="margin-bottom:2px; padding-left: 0px">
											<span class="input-group-addon"><i class="fa fa-envelope"></i></span>
											<input type="email" name="email" class="form-control" ng-model="document.Email" placeholder="email@domain.xyz" required validate-email>
										</div>
										<p class="help-block error" ng-show="form.email.$invalid && !form.email.$error.email">This field is mandatory</p>
										<p class="help-block error" ng-show="form.email.$error.email">Email is invalid or incomplete</p>
									</div>
								</div>
								<!-- <div class="col-sm-6 col-xs-12">
									<div class="form-group">
										<label>Alternate email addresses</label>
										<div class="input-group" style="margin-bottom:2px; padding-left: 0px" ng-repeat="fax in getEmails()">
											<span class="input-group-addon"><i class="fa fa-envelope"></i></span>
											<input type="email" class="form-control" ng-model="email.value" ng-change="saveEmails()" placeholder="alternate-email@domain.xyz"/>
											<span class="input-group-btn" ng-if="!$last">
										    	<button class="btn btn-default" ng-click="removeEmail($index)" style="height:36px"><i class="icon-trash icon"></i></button>
										    </span>
										</div>
									</div>
								</div> -->
							</div>
						</div>
					</div>

					<div class="form-group">
						<button type="submit" class="btn btn-primary" ng-disabled="waiting">Update</button>
						<div class="spinner" ng-show="waiting">
							<div class="bounce1"></div>
							<div class="bounce2"></div>
							<div class="bounce3"></div>
						</div>
						<a href="{{returnUrl}}" ng-show="returnUrl" class="btn btn-default" ng-disabled="waiting">Cancel</a>
					</div>

				</form>
			</div>
		</div>
	</div>
	<style>
		.panel-identity {
			position: relative;
			padding-top: 19px;
		}
		.panel-identity:after {
			content: "Identity";
			position: absolute;
			top: -1px;
			left: -1px;
			padding: 3px 7px;
			font-size: 12px;
			font-weight: bold;
			background-color: #f5f5f5;
			border: 1px solid #ddd;
			color: #9da0a4;
			-webkit-border-radius: 4px 0 4px 0;
			 -moz-border-radius: 4px 0 4px 0;
			      border-radius: 4px 0 4px 0;
		}
		.panel-address {
			position: relative;
			padding-top: 19px;
		}
		.panel-address:after {
			content: "Address";
			position: absolute;
			top: -1px;
			left: -1px;
			padding: 3px 7px;
			font-size: 12px;
			font-weight: bold;
			background-color: #f5f5f5;
			border: 1px solid #ddd;
			color: #9da0a4;
			-webkit-border-radius: 4px 0 4px 0;
			 -moz-border-radius: 4px 0 4px 0;
			      border-radius: 4px 0 4px 0;
		}
		.panel-coordinates {
			position: relative;
			padding-top: 19px;
		}
		.panel-coordinates:after {
			content: "Coordinates";
			position: absolute;
			top: -1px;
			left: -1px;
			padding: 3px 7px;
			font-size: 12px;
			font-weight: bold;
			background-color: #f5f5f5;
			border: 1px solid #ddd;
			color: #9da0a4;
			-webkit-border-radius: 4px 0 4px 0;
			 -moz-border-radius: 4px 0 4px 0;
			      border-radius: 4px 0 4px 0;
		}
		.panel-security {
			position: relative;
			padding-top: 19px;
		}
		.panel-security:after {
			content: "Security";
			position: absolute;
			top: -1px;
			left: -1px;
			padding: 3px 7px;
			font-size: 12px;
			font-weight: bold;
			background-color: #f5f5f5;
			border: 1px solid #ddd;
			color: #9da0a4;
			-webkit-border-radius: 4px 0 4px 0;
			 -moz-border-radius: 4px 0 4px 0;
			      border-radius: 4px 0 4px 0;
		}
		.bootstrap-duallistbox-container select {
			font-size: 14px;
			line-height: 1.428571429;
			color: #666666;
		}
	</style>
</div>
<style>
	.has-error .fa-validate:before {
		content: "\f069";
		color: #a94442;
	}
	.has-warning .fa-validate:before {
		content: "\f0a5";
		color: #c09853;
	}
	.has-success .fa-validate:before {
		content: "\f00c";
		color: #468847;
	}
	.help-block.error {
		text-transform: uppercase;
		font-size:10px;
		font-weight: bold;
		margin-bottom: -10px;
	}
</style>
